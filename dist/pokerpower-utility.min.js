(function(){"use strict";function p(){const i=document.querySelector(".navigation_mobile_trigger"),t=document.querySelector(".navigation_menu"),a=i?.querySelector(".hamburger_12_wrap");if(!i||!t)return;let n=!1,e=!1;const o=()=>{if(!e)if(e=!0,n){i.setAttribute("aria-expanded","false"),a?.classList.remove("is-open"),i.classList.remove("is-open");const r=t.offsetHeight;gsap.set(t,{height:r,overflow:"hidden"}),gsap.timeline({onComplete:()=>{gsap.set(t,{clearProps:"all",display:"none"}),n=!1,e=!1}}).to(t,{height:0,duration:.4,ease:"power2.inOut"})}else{a?.classList.add("is-open"),i.classList.add("is-open"),i.setAttribute("aria-expanded","true"),gsap.set(t,{display:"flex"});const r=t.scrollHeight;gsap.timeline({onComplete:()=>{n=!0,e=!1}}).fromTo(t,{height:0,overflow:"hidden"},{height:r,duration:.4,ease:"power2.inOut",clearProps:"height"})}};i.addEventListener("click",()=>{window.getComputedStyle(i).display!=="none"&&o()}),new ResizeObserver(()=>{window.getComputedStyle(i).display!=="none"||(gsap.set(t,{clearProps:"all",display:"none"}),a?.classList.remove("is-open"),i.classList.remove("is-open"),i.setAttribute("aria-expanded","false"),n=!1,e=!1)}).observe(i)}function b(){const i=document.querySelector("[data-modal-group-status]"),t=document.querySelectorAll("[data-modal-name]"),a=document.querySelectorAll("[data-modal-target]");a.forEach(e=>{e.addEventListener("click",function(){const o=this.getAttribute("data-modal-target");a.forEach(s=>s.setAttribute("data-modal-status","not-active")),t.forEach(s=>s.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${o}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${o}"]`).setAttribute("data-modal-status","active"),i&&i.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(e=>{e.addEventListener("click",n)}),document.addEventListener("keydown",function(e){e.key==="Escape"&&n()});function n(){a.forEach(e=>e.setAttribute("data-modal-status","not-active")),i&&i.setAttribute("data-modal-group-status","not-active"),document.querySelectorAll("[data-modal-name] .youtube-wrapper").forEach(e=>{const o=e.querySelector(".youtube-thumbnail"),s=e.querySelector(".youtube-iframe");if(o&&s){const r=s.querySelector("iframe");r&&r.remove(),o.style.display="block",s.style.display="none"}})}}function f(){document.querySelectorAll("[data-button-label]").forEach(a=>{const n=a.textContent;a.innerHTML="",[...n].forEach((e,o)=>{const s=document.createElement("span");s.textContent=e,s.style.transitionDelay=`${o*.01}s`,e===" "&&(s.style.whiteSpace="pre"),a.appendChild(s)})})}function w(){const i=document.querySelector(".testimonial_wrap");if(!i)return;const t=i.querySelector(".testimonial_contain");i.querySelectorAll(".testimonial_card").forEach(c=>{const m=c.cloneNode(!0);t.appendChild(m)});const n=i.querySelectorAll(".testimonial_card"),e=n.length/2;let o=0,s,r=[],u=t.clientWidth/2,l=gsap.utils.wrap(-u,0);s=gsap.quickTo(t,"x",{duration:.5,modifiers:{x:gsap.utils.unitize(l)},ease:"power3"});for(let c=0;c<e;c++)r.push((Math.random()-.5)*20);const d=gsap.timeline({paused:!0});d.to(n,{rotate:c=>r[c%e],xPercent:c=>r[c%e],yPercent:c=>r[c%e],scale:.95,duration:.5,ease:"back.inOut(3)"}),Observer.create({target:t,type:"pointer,touch",onPress:()=>d.play(),onDrag:c=>{o+=c.deltaX,s(o)},onRelease:()=>d.reverse(),onStop:()=>d.reverse()}),gsap.ticker.add(A);function A(c,m){o-=m/25,s(o)}let v;window.addEventListener("resize",()=>{clearTimeout(v),v=setTimeout(()=>{const c=gsap.getProperty(t,"x");u=t.clientWidth/2,l=gsap.utils.wrap(-u,0),o=c,s=gsap.quickTo(t,"x",{duration:.5,modifiers:{x:gsap.utils.unitize(l)},ease:"power3"}),s(o)},200)})}function E(){const i=document.querySelector(".navigation_wrap")?.offsetHeight||0,t=document.querySelectorAll(".section_skill .skill_wrap");t.length&&t.forEach(a=>{const n=a.querySelector(".skill_contain"),e=a.querySelector(".skill_layout");if(!n||!e)return;const o=gsap.timeline({scrollTrigger:{pin:n,trigger:a,start:`top-=${i} top`,end:()=>`+=${a.offsetHeight+window.innerHeight*.5}`,scrub:!0}});o.to({},{duration:.5}),o.to(e,{rotationZ:(Math.random()-.5)*10,scale:.7,rotationX:40,ease:"power1.in"}),o.to(e,{autoAlpha:0,ease:"power1.in"})})}function g(){gsap.matchMedia().add("(min-width: 992px)",()=>{const t=document.querySelector('[data-nav-trigger="for-individuals"]'),a=document.querySelector('[data-nav-panel="for-individuals"]');if(!t||!a)return;const n=a.querySelectorAll("[data-nav-section-toggle]");let e=!1;n.forEach(l=>l.setAttribute("tabindex","-1"));const o=gsap.timeline({paused:!0,defaults:{duration:.3,ease:"power2.out"}}).fromTo(a,{autoAlpha:0,y:-10},{autoAlpha:1,y:0}),s=()=>{e||(e=!0,o.play(),t.setAttribute("aria-expanded","true"),t.classList.add("is-active"))},r=()=>{e&&(e=!1,o.reverse(),t.setAttribute("aria-expanded","false"),t.classList.remove("is-active"))},u=()=>!a.contains(document.activeElement)&&!t.contains(document.activeElement);return t.addEventListener("mouseenter",s),a.addEventListener("mouseenter",s),t.addEventListener("mouseleave",()=>{setTimeout(()=>{!a.matches(":hover")&&!t.matches(":hover")&&r()},100)}),a.addEventListener("mouseleave",()=>{setTimeout(()=>{!a.matches(":hover")&&!t.matches(":hover")&&r()},100)}),t.addEventListener("focusin",s),t.addEventListener("keydown",l=>{l.key==="Enter"||l.key===" "?(l.preventDefault(),e?r():s()):l.key==="Escape"&&(r(),t.focus())}),a.addEventListener("keydown",l=>{l.key==="Escape"&&(r(),t.focus())}),document.addEventListener("focusin",()=>{e&&setTimeout(()=>{u()&&r()},0)}),()=>{n.forEach(l=>l.removeAttribute("tabindex"))}})}function S(){document.querySelectorAll(".youtube-wrapper").forEach(i=>{const t=i.querySelector(".youtube-thumbnail"),a=i.querySelector(".youtube-iframe");!t||!a||t.addEventListener("click",()=>{if(!a.querySelector("iframe")){const n=t.style.backgroundImage.match(/vi\/([^/]+)\//),e=n?n[1]:null;if(!e)return;const o=document.createElement("iframe");o.src="https://www.youtube.com/embed/"+e+"?autoplay=1",o.frameBorder="0",o.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",o.allowFullscreen=!0,o.loading="lazy",o.style.width="100%",o.style.height="100%",a.appendChild(o)}t.style.display="none",a.style.display="block"})})}function h(){gsap.matchMedia().add("(max-width: 991px)",()=>{const t=document.querySelectorAll("[data-nav-section-toggle]");return t.forEach(a=>{const n=a.nextElementSibling;if(!n||!n.classList.contains("nav_submenu_panel"))return;let e=!1,o=!1;gsap.set(n,{height:0,display:"none",overflow:"hidden"}),a.setAttribute("aria-expanded","false");const s=()=>{o||(o=!0,e?(gsap.to(n,{height:0,duration:.4,ease:"power2.inOut",onComplete:()=>{gsap.set(n,{clearProps:"all",display:"none"}),e=!1,o=!1}}),a.setAttribute("aria-expanded","false")):(gsap.set(n,{display:"block"}),gsap.to(n,{height:n.scrollHeight,duration:.4,ease:"power2.out",onComplete:()=>{gsap.set(n,{clearProps:"height"}),e=!0,o=!1}}),a.setAttribute("aria-expanded","true")))};a.addEventListener("click",s),a.addEventListener("keydown",r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),s())})}),()=>{t.forEach(a=>{const n=a.nextElementSibling;!n||!n.classList.contains("nav_submenu_panel")||(gsap.set(n,{clearProps:"all"}),a.setAttribute("aria-expanded","false"))})}})}function y(){gsap.matchMedia().add("(max-width: 991px)",()=>{const t=document.querySelectorAll("[data-nav-section-toggle]"),a=[];return t.forEach(n=>{const e=n.nextElementSibling;if(!e||!e.classList.contains("submenu_link_contain"))return;gsap.set(e,{height:0,overflow:"hidden",display:"flex"});let o=!1,s=!1;const r=()=>{if(console.log("trigger has been clicked"),s)return;s=!0;const u=e.scrollHeight,l=gsap.timeline({onComplete:()=>{o=!o,s=!1,o||gsap.set(e,{height:0})}});o?l.to(e,{height:0,duration:.4,ease:"power2.inOut"}):l.to(e,{height:u,duration:.4,ease:"power2.out",onComplete:()=>gsap.set(e,{height:"auto"})}),n.classList.toggle("is-open")};n.addEventListener("click",r),a.push({trigger:n,submenu:e,onClick:r})}),()=>{a.forEach(({trigger:n,submenu:e,onClick:o})=>{n.removeEventListener("click",o),n.classList.remove("is-open"),gsap.set(e,{clearProps:"height,overflow,display"})})}})}function k(){p(),f(),g(),h(),y()}window.PokerPower={initMobileNavToggle:p,initModalBasic:b,initButtonCharacterStagger:f,initTestimonialsDelayed:()=>gsap.delayedCall(.2,w),initPinnedSkills:E,initNavDesktop:g,initNavMobile:h,initMobileSubmenuToggle:y,initLazyYouTube:S,autoInit:k},document.addEventListener("DOMContentLoaded",()=>{window.PokerPower?.autoInit&&window.PokerPower.autoInit()})})();
//# sourceMappingURL=pokerpower-utility.min.js.map
