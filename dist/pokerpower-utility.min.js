(function(){"use strict";function m(){const s=document.querySelector(".navigation_mobile_trigger"),t=document.querySelector(".navigation_menu"),o=document.querySelector(".mobile_trigger_open"),n=document.querySelector(".mobile_trigger_close"),e=s?.querySelector(".hamburger_12_wrap");if(!s||!t)return;let a=!1,i=!1;const r=()=>{if(!i)if(i=!0,a){s.setAttribute("aria-expanded","false"),e?.classList.remove("is-open"),s.classList.remove("is-open");const l=t.offsetHeight;gsap.set(t,{height:l,overflow:"hidden"}),gsap.timeline({onComplete:()=>{gsap.set(t,{clearProps:"all",display:"none"}),a=!1,i=!1}}).to(t,{height:0,duration:.4,ease:"power2.inOut"}).to(n,{autoAlpha:0,duration:.3},0).to(o,{autoAlpha:1,duration:.3},0)}else{e?.classList.add("is-open"),s.classList.add("is-open"),s.setAttribute("aria-expanded","true"),gsap.set(t,{display:"flex"});const l=t.scrollHeight;gsap.timeline({onComplete:()=>{a=!0,i=!1}}).fromTo(t,{height:0,overflow:"hidden"},{height:l,duration:.4,ease:"power2.inOut",clearProps:"height"}).to(o,{autoAlpha:0,duration:.3},0).to(n,{autoAlpha:1,duration:.3},0)}};s.addEventListener("click",()=>{window.getComputedStyle(s).display!=="none"&&r()}),new ResizeObserver(()=>{window.getComputedStyle(s).display!=="none"||(gsap.set(t,{clearProps:"all",display:"none"}),gsap.set(o,{autoAlpha:1}),gsap.set(n,{autoAlpha:0}),e?.classList.remove("is-open"),s.classList.remove("is-open"),s.setAttribute("aria-expanded","false"),a=!1,i=!1)}).observe(s)}function b(){const s=document.querySelector("[data-modal-group-status]"),t=document.querySelectorAll("[data-modal-name]"),o=document.querySelectorAll("[data-modal-target]");o.forEach(e=>{e.addEventListener("click",function(){const a=this.getAttribute("data-modal-target");o.forEach(i=>i.setAttribute("data-modal-status","not-active")),t.forEach(i=>i.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${a}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${a}"]`).setAttribute("data-modal-status","active"),s&&s.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(e=>{e.addEventListener("click",n)}),document.addEventListener("keydown",function(e){e.key==="Escape"&&n()});function n(){o.forEach(e=>e.setAttribute("data-modal-status","not-active")),s&&s.setAttribute("data-modal-group-status","not-active"),document.querySelectorAll("[data-modal-name] .youtube-wrapper").forEach(e=>{const a=e.querySelector(".youtube-thumbnail"),i=e.querySelector(".youtube-iframe");if(a&&i){const r=i.querySelector("iframe");r&&r.remove(),a.style.display="block",i.style.display="none"}})}}function g(){document.querySelectorAll("[data-button-label]").forEach(o=>{const n=o.textContent;o.innerHTML="",[...n].forEach((e,a)=>{const i=document.createElement("span");i.textContent=e,i.style.transitionDelay=`${a*.01}s`,e===" "&&(i.style.whiteSpace="pre"),o.appendChild(i)})})}function w(){const s=document.querySelector(".testimonial_wrap");if(!s)return;const t=s.querySelector(".testimonial_contain");s.querySelectorAll(".testimonial_card").forEach(c=>{const p=c.cloneNode(!0);t.appendChild(p)});const n=s.querySelectorAll(".testimonial_card"),e=n.length/2;let a=0,i,r=[],u=t.clientWidth/2,l=gsap.utils.wrap(-u,0);i=gsap.quickTo(t,"x",{duration:.5,modifiers:{x:gsap.utils.unitize(l)},ease:"power3"});for(let c=0;c<e;c++)r.push((Math.random()-.5)*20);const d=gsap.timeline({paused:!0});d.to(n,{rotate:c=>r[c%e],xPercent:c=>r[c%e],yPercent:c=>r[c%e],scale:.95,duration:.5,ease:"back.inOut(3)"}),Observer.create({target:t,type:"pointer,touch",onPress:()=>d.play(),onDrag:c=>{a+=c.deltaX,i(a)},onRelease:()=>d.reverse(),onStop:()=>d.reverse()}),gsap.ticker.add(k);function k(c,p){a-=p/25,i(a)}let v;window.addEventListener("resize",()=>{clearTimeout(v),v=setTimeout(()=>{const c=gsap.getProperty(t,"x");u=t.clientWidth/2,l=gsap.utils.wrap(-u,0),a=c,i=gsap.quickTo(t,"x",{duration:.5,modifiers:{x:gsap.utils.unitize(l)},ease:"power3"}),i(a)},200)})}function E(){const s=document.querySelector(".navigation_wrap")?.offsetHeight||0,t=document.querySelectorAll(".section_skill .skill_wrap");t.length&&t.forEach(o=>{const n=o.querySelector(".skill_contain"),e=o.querySelector(".skill_layout");if(!n||!e)return;const a=gsap.timeline({scrollTrigger:{pin:n,trigger:o,start:`top-=${s} top`,end:()=>`+=${o.offsetHeight+window.innerHeight*.5}`,scrub:!0}});a.to({},{duration:.5}),a.to(e,{rotationZ:(Math.random()-.5)*10,scale:.7,rotationX:40,ease:"power1.in"}),a.to(e,{autoAlpha:0,ease:"power1.in"})})}function f(){gsap.matchMedia().add("(min-width: 992px)",()=>{const t=document.querySelector('[data-nav-trigger="for-individuals"]'),o=document.querySelector('[data-nav-panel="for-individuals"]');if(!t||!o)return;const n=o.querySelectorAll("[data-nav-section-toggle]");let e=!1;n.forEach(l=>l.setAttribute("tabindex","-1"));const a=gsap.timeline({paused:!0,defaults:{duration:.3,ease:"power2.out"}}).fromTo(o,{autoAlpha:0,y:-10},{autoAlpha:1,y:0}),i=()=>{e||(e=!0,a.play(),t.setAttribute("aria-expanded","true"),t.classList.add("is-active"))},r=()=>{e&&(e=!1,a.reverse(),t.setAttribute("aria-expanded","false"),t.classList.remove("is-active"))},u=()=>!o.contains(document.activeElement)&&!t.contains(document.activeElement);return t.addEventListener("mouseenter",i),o.addEventListener("mouseenter",i),t.addEventListener("mouseleave",()=>{setTimeout(()=>{!o.matches(":hover")&&!t.matches(":hover")&&r()},100)}),o.addEventListener("mouseleave",()=>{setTimeout(()=>{!o.matches(":hover")&&!t.matches(":hover")&&r()},100)}),t.addEventListener("focusin",i),t.addEventListener("keydown",l=>{l.key==="Enter"||l.key===" "?(l.preventDefault(),e?r():i()):l.key==="Escape"&&(r(),t.focus())}),o.addEventListener("keydown",l=>{l.key==="Escape"&&(r(),t.focus())}),document.addEventListener("focusin",()=>{e&&setTimeout(()=>{u()&&r()},0)}),()=>{n.forEach(l=>l.removeAttribute("tabindex"))}})}function A(){document.querySelectorAll(".youtube-wrapper").forEach(s=>{const t=s.querySelector(".youtube-thumbnail"),o=s.querySelector(".youtube-iframe");!t||!o||t.addEventListener("click",()=>{if(!o.querySelector("iframe")){const n=t.style.backgroundImage.match(/vi\/([^/]+)\//),e=n?n[1]:null;if(!e)return;const a=document.createElement("iframe");a.src="https://www.youtube.com/embed/"+e+"?autoplay=1",a.frameBorder="0",a.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",a.allowFullscreen=!0,a.loading="lazy",a.style.width="100%",a.style.height="100%",o.appendChild(a)}t.style.display="none",o.style.display="block"})})}function h(){gsap.matchMedia().add("(max-width: 991px)",()=>{const t=document.querySelectorAll("[data-nav-section-toggle]");return t.forEach(o=>{const n=o.nextElementSibling;if(!n||!n.classList.contains("nav_submenu_panel"))return;let e=!1,a=!1;gsap.set(n,{height:0,display:"none",overflow:"hidden"}),o.setAttribute("aria-expanded","false");const i=()=>{a||(a=!0,e?(gsap.to(n,{height:0,duration:.4,ease:"power2.inOut",onComplete:()=>{gsap.set(n,{clearProps:"all",display:"none"}),e=!1,a=!1}}),o.setAttribute("aria-expanded","false")):(gsap.set(n,{display:"block"}),gsap.to(n,{height:n.scrollHeight,duration:.4,ease:"power2.out",onComplete:()=>{gsap.set(n,{clearProps:"height"}),e=!0,a=!1}}),o.setAttribute("aria-expanded","true")))};o.addEventListener("click",i),o.addEventListener("keydown",r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),i())})}),()=>{t.forEach(o=>{const n=o.nextElementSibling;!n||!n.classList.contains("nav_submenu_panel")||(gsap.set(n,{clearProps:"all"}),o.setAttribute("aria-expanded","false"))})}})}function y(){gsap.matchMedia().add("(max-width: 991px)",()=>{const t=document.querySelectorAll("[data-nav-section-toggle]"),o=[];return t.forEach(n=>{const e=n.nextElementSibling;if(!e||!e.classList.contains("submenu_link_contain"))return;gsap.set(e,{height:0,overflow:"hidden",display:"flex"});let a=!1,i=!1;const r=()=>{if(console.log("trigger has been clicked"),i)return;i=!0;const u=e.scrollHeight,l=gsap.timeline({onComplete:()=>{a=!a,i=!1,a||gsap.set(e,{height:0})}});a?l.to(e,{height:0,duration:.4,ease:"power2.inOut"}):l.to(e,{height:u,duration:.4,ease:"power2.out",onComplete:()=>gsap.set(e,{height:"auto"})}),n.classList.toggle("is-open")};n.addEventListener("click",r),o.push({trigger:n,submenu:e,onClick:r})}),()=>{o.forEach(({trigger:n,submenu:e,onClick:a})=>{n.removeEventListener("click",a),n.classList.remove("is-open"),gsap.set(e,{clearProps:"height,overflow,display"})})}})}function S(){m(),g(),f(),h(),y()}window.PokerPower={initMobileNavToggle:m,initModalBasic:b,initButtonCharacterStagger:g,initTestimonialsDelayed:()=>gsap.delayedCall(.2,w),initPinnedSkills:E,initNavDesktop:f,initNavMobile:h,initMobileSubmenuToggle:y,initLazyYouTube:A,autoInit:S},document.addEventListener("DOMContentLoaded",()=>{window.PokerPower?.autoInit&&window.PokerPower.autoInit()})})();
