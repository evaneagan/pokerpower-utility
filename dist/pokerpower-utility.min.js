(function(){"use strict";function p(){const i=document.querySelector(".navigation_mobile_trigger"),a=document.querySelector(".navigation_menu"),t=i==null?void 0:i.querySelector(".hamburger_12_wrap");if(!i||!a)return;let o=!1,e=!1;const n=()=>{if(!e)if(e=!0,o){i.setAttribute("aria-expanded","false"),t==null||t.classList.remove("is-open"),i.classList.remove("is-open");const r=a.offsetHeight;gsap.set(a,{height:r,overflow:"hidden"}),gsap.timeline({onComplete:()=>{gsap.set(a,{clearProps:"all",display:"none"}),o=!1,e=!1}}).to(a,{height:0,duration:.4,ease:"power2.inOut"})}else{t==null||t.classList.add("is-open"),i.classList.add("is-open"),i.setAttribute("aria-expanded","true"),gsap.set(a,{display:"flex"});const r=a.scrollHeight;gsap.timeline({onComplete:()=>{o=!0,e=!1}}).fromTo(a,{height:0,overflow:"hidden"},{height:r,duration:.4,ease:"power2.inOut",clearProps:"height"})}};i.addEventListener("click",()=>{window.getComputedStyle(i).display!=="none"&&n()}),new ResizeObserver(()=>{window.getComputedStyle(i).display!=="none"||(gsap.set(a,{clearProps:"all",display:"none"}),t==null||t.classList.remove("is-open"),i.classList.remove("is-open"),i.setAttribute("aria-expanded","false"),o=!1,e=!1)}).observe(i)}function w(){const i=document.querySelector("[data-modal-group-status]"),a=document.querySelectorAll("[data-modal-name]"),t=document.querySelectorAll("[data-modal-target]");t.forEach(e=>{e.addEventListener("click",function(){const n=this.getAttribute("data-modal-target");t.forEach(s=>s.setAttribute("data-modal-status","not-active")),a.forEach(s=>s.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${n}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${n}"]`).setAttribute("data-modal-status","active"),i&&i.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(e=>{e.addEventListener("click",o)}),document.addEventListener("keydown",function(e){e.key==="Escape"&&o()});function o(){t.forEach(e=>e.setAttribute("data-modal-status","not-active")),i&&i.setAttribute("data-modal-group-status","not-active"),document.querySelectorAll("[data-modal-name] .youtube-wrapper").forEach(e=>{const n=e.querySelector(".youtube-thumbnail"),s=e.querySelector(".youtube-iframe");if(n&&s){const r=s.querySelector("iframe");r&&r.remove(),n.style.display="block",s.style.display="none"}})}}function f(){document.querySelectorAll("[data-button-label]").forEach(t=>{const o=t.textContent;t.innerHTML="",[...o].forEach((e,n)=>{const s=document.createElement("span");s.textContent=e,s.style.transitionDelay=`${n*.01}s`,e===" "&&(s.style.whiteSpace="pre"),t.appendChild(s)})})}function b(){const i=document.querySelector(".testimonial_wrap");if(!i)return;const a=i.querySelector(".testimonial_contain");i.querySelectorAll(".testimonial_card").forEach(c=>{const m=c.cloneNode(!0);a.appendChild(m)});const o=i.querySelectorAll(".testimonial_card"),e=o.length/2;let n=0,s,r=[],u=a.clientWidth/2,l=gsap.utils.wrap(-u,0);s=gsap.quickTo(a,"x",{duration:.5,modifiers:{x:gsap.utils.unitize(l)},ease:"power3"});for(let c=0;c<e;c++)r.push((Math.random()-.5)*20);const d=gsap.timeline({paused:!0});d.to(o,{rotate:c=>r[c%e],xPercent:c=>r[c%e],yPercent:c=>r[c%e],scale:.95,duration:.5,ease:"back.inOut(3)"}),Observer.create({target:a,type:"pointer,touch",onPress:()=>d.play(),onDrag:c=>{n+=c.deltaX,s(n)},onRelease:()=>d.reverse(),onStop:()=>d.reverse()}),gsap.ticker.add(A);function A(c,m){n-=m/25,s(n)}let v;window.addEventListener("resize",()=>{clearTimeout(v),v=setTimeout(()=>{const c=gsap.getProperty(a,"x");u=a.clientWidth/2,l=gsap.utils.wrap(-u,0),n=c,s=gsap.quickTo(a,"x",{duration:.5,modifiers:{x:gsap.utils.unitize(l)},ease:"power3"}),s(n)},200)})}function E(){gsap.matchMedia().add("(min-width: 992px)",()=>{var o;const a=((o=document.querySelector(".navigation_wrap"))==null?void 0:o.offsetHeight)||0,t=document.querySelectorAll(".section_skill .skill_wrap");t.length&&t.forEach(e=>{const n=e.querySelector(".skill_contain"),s=e.querySelector(".skill_layout");if(!n||!s)return;const r=gsap.timeline({scrollTrigger:{pin:n,trigger:e,start:`top-=${a} top`,end:()=>`+=${e.offsetHeight+window.innerHeight*.5}`,scrub:!0}});r.to({},{duration:.5}),r.to(s,{rotationZ:(Math.random()-.5)*10,scale:.7,rotationX:40,ease:"power1.in"}),r.to(s,{autoAlpha:0,ease:"power1.in"})})})}function g(){gsap.matchMedia().add("(min-width: 992px)",()=>{const a=document.querySelector('[data-nav-trigger="for-individuals"]'),t=document.querySelector('[data-nav-panel="for-individuals"]');if(!a||!t)return;const o=t.querySelectorAll("[data-nav-section-toggle]");let e=!1;o.forEach(l=>l.setAttribute("tabindex","-1"));const n=gsap.timeline({paused:!0,defaults:{duration:.3,ease:"power2.out"}}).fromTo(t,{autoAlpha:0,y:-10},{autoAlpha:1,y:0}),s=()=>{e||(e=!0,n.play(),a.setAttribute("aria-expanded","true"),a.classList.add("is-active"))},r=()=>{e&&(e=!1,n.reverse(),a.setAttribute("aria-expanded","false"),a.classList.remove("is-active"))},u=()=>!t.contains(document.activeElement)&&!a.contains(document.activeElement);return a.addEventListener("mouseenter",s),t.addEventListener("mouseenter",s),a.addEventListener("mouseleave",()=>{setTimeout(()=>{!t.matches(":hover")&&!a.matches(":hover")&&r()},100)}),t.addEventListener("mouseleave",()=>{setTimeout(()=>{!t.matches(":hover")&&!a.matches(":hover")&&r()},100)}),a.addEventListener("focusin",s),a.addEventListener("keydown",l=>{l.key==="Enter"||l.key===" "?(l.preventDefault(),e?r():s()):l.key==="Escape"&&(r(),a.focus())}),t.addEventListener("keydown",l=>{l.key==="Escape"&&(r(),a.focus())}),document.addEventListener("focusin",()=>{e&&setTimeout(()=>{u()&&r()},0)}),()=>{o.forEach(l=>l.removeAttribute("tabindex"))}})}function S(){document.querySelectorAll(".youtube-wrapper").forEach(i=>{const a=i.querySelector(".youtube-thumbnail"),t=i.querySelector(".youtube-iframe");!a||!t||a.addEventListener("click",()=>{if(!t.querySelector("iframe")){const o=a.style.backgroundImage.match(/vi\/([^/]+)\//),e=o?o[1]:null;if(!e)return;const n=document.createElement("iframe");n.src="https://www.youtube.com/embed/"+e+"?autoplay=1",n.frameBorder="0",n.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",n.allowFullscreen=!0,n.loading="lazy",n.style.width="100%",n.style.height="100%",t.appendChild(n)}a.style.display="none",t.style.display="block"})})}function h(){gsap.matchMedia().add("(max-width: 991px)",()=>{const a=document.querySelectorAll("[data-nav-section-toggle]");return a.forEach(t=>{const o=t.nextElementSibling;if(!o||!o.classList.contains("nav_submenu_panel"))return;let e=!1,n=!1;gsap.set(o,{height:0,display:"none",overflow:"hidden"}),t.setAttribute("aria-expanded","false");const s=()=>{n||(n=!0,e?(gsap.to(o,{height:0,duration:.4,ease:"power2.inOut",onComplete:()=>{gsap.set(o,{clearProps:"all",display:"none"}),e=!1,n=!1}}),t.setAttribute("aria-expanded","false")):(gsap.set(o,{display:"block"}),gsap.to(o,{height:o.scrollHeight,duration:.4,ease:"power2.out",onComplete:()=>{gsap.set(o,{clearProps:"height"}),e=!0,n=!1}}),t.setAttribute("aria-expanded","true")))};t.addEventListener("click",s),t.addEventListener("keydown",r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),s())})}),()=>{a.forEach(t=>{const o=t.nextElementSibling;!o||!o.classList.contains("nav_submenu_panel")||(gsap.set(o,{clearProps:"all"}),t.setAttribute("aria-expanded","false"))})}})}function y(){gsap.matchMedia().add("(max-width: 991px)",()=>{const a=document.querySelectorAll("[data-nav-section-toggle]"),t=[];return a.forEach(o=>{const e=o.nextElementSibling;if(!e||!e.classList.contains("submenu_link_contain"))return;gsap.set(e,{height:0,overflow:"hidden",display:"flex"});let n=!1,s=!1;const r=()=>{if(console.log("trigger has been clicked"),s)return;s=!0;const u=e.scrollHeight,l=gsap.timeline({onComplete:()=>{n=!n,s=!1,n||gsap.set(e,{height:0})}});n?l.to(e,{height:0,duration:.4,ease:"power2.inOut"}):l.to(e,{height:u,duration:.4,ease:"power2.out",onComplete:()=>gsap.set(e,{height:"auto"})}),o.classList.toggle("is-open")};o.addEventListener("click",r),t.push({trigger:o,submenu:e,onClick:r})}),()=>{t.forEach(({trigger:o,submenu:e,onClick:n})=>{o.removeEventListener("click",n),o.classList.remove("is-open"),gsap.set(e,{clearProps:"height,overflow,display"})})}})}function k(){p(),f(),g(),h(),y()}window.PokerPower={initMobileNavToggle:p,initModalBasic:w,initButtonCharacterStagger:f,initTestimonialsDelayed:()=>gsap.delayedCall(.2,b),initPinnedSkills:E,initNavDesktop:g,initNavMobile:h,initMobileSubmenuToggle:y,initLazyYouTube:S,autoInit:k},document.addEventListener("DOMContentLoaded",()=>{var i;(i=window.PokerPower)!=null&&i.autoInit&&window.PokerPower.autoInit()})})();
//# sourceMappingURL=pokerpower-utility.min.js.map
